{% extends "jobs/base.html" %}
{% block title %}Contact{% endblock %}

{% block content %}
<div id="contact" class="min-h-screen bg-gradient-to-b from-[#0f172a] to-[#1e293b] text-white p-4 flex flex-col items-center pb-8">
    <div class="w-full max-w-6xl mt-8">
        <h1 class="text-5xl font-bold text-center bg-gradient-to-r from-blue-400 to-purple-500 text-transparent bg-clip-text mb-4">
            Let's Connect
        </h1>
        <p class="text-center text-gray-400 text-xl mb-12">
            Choose your preferred way to reach out
        </p>

        <div class="flex flex-col md:flex-row gap-8 w-full">

            <!-- LEFT INFO PANEL (UNCHANGED) -->
            <div class="bg-gray-800 p-8 rounded-3xl shadow-xl w-full md:w-1/2">
                <h2 class="text-2xl font-bold mb-8">Contact Information</h2>

                <div class="space-y-8">
                    <div class="flex items-center gap-4 group">
                        <div class="bg-blue-900 p-4 rounded-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                        </div>
                        <div>
                            <p class="text-gray-400">Email</p>
                            <p>geevanthapa750@gmail.com</p>
                        </div>
                    </div>

                    <div class="flex items-center gap-4 group">
                        <div class="bg-green-900 p-4 rounded-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                            </svg>
                        </div>
                        <div>
                            <p class="text-gray-400">Phone</p>
                            <p>+977-9816502153</p>
                        </div>
                    </div>

                    <div class="flex items-center gap-4 group">
                        <div class="bg-red-900 p-4 rounded-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                        </div>
                        <div>
                            <p class="text-gray-400">Location</p>
                            <p>Kathmandu, Nepal</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT FORM PANEL -->
            <div class="bg-gray-800 p-8 rounded-3xl shadow-xl w-full md:w-1/2">
                <form method="post">
                    {% csrf_token %}

                    <div id="step1">
                        <h2 class="text-2xl font-bold mb-6">What's your name?</h2>
                        <input type="text" name="name" required
                            placeholder="Enter your name"
                            class="w-full p-4 bg-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-white">
                    </div>

                    <div id="step2" class="hidden">
                        <h2 class="text-2xl font-bold mb-6">What's your email?</h2>
                        <input type="email" name="email" required
                            placeholder="Enter your email"
                            class="w-full p-4 bg-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-white">
                    </div>

                    <div id="step3" class="hidden">
                        <h2 class="text-2xl font-bold mb-6">Enter your phone number</h2>
                        <input type="text" name="phone"
                            placeholder="Enter Phone Number"
                            class="w-full p-4 bg-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-white">
                    </div>

                    <div id="step4" class="hidden">
                        <h2 class="text-2xl font-bold mb-6">Your message</h2>
                        <textarea name="message" required rows="4"
                            class="w-full p-4 bg-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"></textarea>
                        <p class="mt-2 text-sm text-gray-500">
                            Characters: <span id="charCount">0</span>/1000
                        </p>
                    </div>

                    <div class="flex justify-between mt-8">
                        <button type="button" id="backBtn"
                            class="hidden px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-xl">
                            Back
                        </button>

                        <button type="button" id="nextBtn"
                            class="px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-xl ml-auto">
                            Next
                        </button>

                        <button type="submit" id="submitBtn"
                            class="hidden px-6 py-3 bg-green-600 hover:bg-green-500 rounded-xl ml-auto">
                            Submit
                        </button>
                    </div>

                    <div class="flex justify-center mt-8 gap-2">
                        <div id="step1Indicator" class="h-2 w-8 rounded-full bg-blue-500"></div>
                        <div id="step2Indicator" class="h-2 w-2 rounded-full bg-gray-600"></div>
                        <div id="step3Indicator" class="h-2 w-2 rounded-full bg-gray-600"></div>
                        <div id="step4Indicator" class="h-2 w-2 rounded-full bg-gray-600"></div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
let currentStep = 1;
const steps = ['step1', 'step2', 'step3', 'step4'];
const indicators = ['step1Indicator', 'step2Indicator', 'step3Indicator', 'step4Indicator'];
const nextBtn = document.getElementById('nextBtn');
const backBtn = document.getElementById('backBtn');
const submitBtn = document.getElementById('submitBtn');
const textarea = document.querySelector('textarea');
const charCount = document.getElementById('charCount');

function updateStep() {
    steps.forEach(s => document.getElementById(s).classList.add('hidden'));
    indicators.forEach(i => {
        const el = document.getElementById(i);
        el.classList.remove('w-8', 'bg-blue-500');
        el.classList.add('w-2', 'bg-gray-600');
    });

    document.getElementById(steps[currentStep - 1]).classList.remove('hidden');
    const active = document.getElementById(indicators[currentStep - 1]);
    active.classList.add('w-8', 'bg-blue-500');

    backBtn.classList.toggle('hidden', currentStep === 1);
    nextBtn.classList.toggle('hidden', currentStep === 4);
    submitBtn.classList.toggle('hidden', currentStep !== 4);
}

nextBtn.onclick = () => { if (currentStep < 4) currentStep++, updateStep(); };
backBtn.onclick = () => { if (currentStep > 1) currentStep--, updateStep(); };
textarea.oninput = () => charCount.textContent = textarea.value.length;

updateStep();
</script>

{% endblock %}
